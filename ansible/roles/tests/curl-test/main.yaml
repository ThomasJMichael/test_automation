---
- name: Check if curl is installed
  command: which curl
  register: curl_check
  failed_when: curl_check.rc != 0
  changed_when: false

- name: Run curl command
  command: curl --version
  when: curl_check.rc == 0
  register: curl_output
  changed_when: false

- name: Display curl version
  debug:
    msg: "{{ curl_output.stdout }}"
  when: curl_output.stdout is defined
